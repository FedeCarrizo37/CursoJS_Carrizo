<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="iso-8859-1">
    <title>Clases y Herencia - Array</title>
    <script src="..\clases\js\Cuenta.js" type="text/javascript"></script>
  </head>
  <body>
    <h1>Clase Cuentas - Array de Cuentas</h1>
    <script type="text/javascript">
      let array_cuentas = new Array(new CajaAhorro( '543210/2', 100, 10 ),
                              new CuentaCorriente( '50001/9', 2000, 1000 ),
                              new CajaAhorro( '598765/3', 150, 2.3 ),
                              new CuentaCorriente( '50002/8', 2500, 3000 ),
                              new CajaAhorro( '545678/6', 5700, 12 ),
                              new CuentaCorriente( '50003/7', 2700, 2500 ));
      array_cuentas.forEach((item, i) => {
        document.write("<br>---Cuenta nº: " + (i+1) + " del Array---<br>");
        document.write(array_cuentas[i].toString());
      });
    </script>
    <h1>Clase Cuentas - Array Filtrado (Punto 11)</h1>
    A Continuación, mostrar todas las cuentas que tengan un saldo menor que $2500
    utilizando filter con una función array, luego foreach on the fly para mostrarlos.
    <br>
    <script type="text/javascript">
      document.write("<u>Cuentas que cumplen la condicion:</u><br>");
      array_cuentas.filter(cuentas_filtradas=>cuentas_filtradas.saldo<2500).forEach((item, i) => {
        document.write(`${item}`);
      });
    </script>
    <h1>Clase Cuentas - Array Filtrado (Punto 12)</h1>
    Mostrar todas cuentas que al restarle 100 superen los 2400.
    <script type="text/javascript">
      document.write("<hr>Primero aplico debito -$100 a todas<br>");
      for (var i = 0; i < array_cuentas.length; i++) {
        array_cuentas[i].debitar(100);
        document.write(array_cuentas[i].toString());
      }
      document.write("<u>Cuentas que cumplen la condicion:</u><br>");
      array_cuentas.filter(cuentas_filtradas=>cuentas_filtradas.saldo>2400).forEach((item, i) => {
        document.write(`${item}`);
      });
    </script>
    <h1>Clase Cuentas - Array Filtrado (Punto 13)</h1>
    Mostar todas las cuentas luego de debitarle 500$ a cada cuenta.
    <script type="text/javascript">
      for (var i = 0; i < array_cuentas.length; i++) {
        array_cuentas[i].debitar(500);
        document.write(array_cuentas[i].toString());
      }
    </script>
    <h1>Clase Cuentas - Array Filtrado (Punto 14)</h1>
    Sumarle 5000 a todos las cuentas que a esta altura tengan
    saldo menor que 1500 y mostrarlas a continuación.
    <script type="text/javascript">
      for (var i = 0; i < array_cuentas.length; i++) {
        array_cuentas[i].acreditar(5000);
        document.write(array_cuentas[i].toString());
      }
      document.write("<u>Cuentas que cumplen la condicion:</u><br>");
      array_cuentas.filter(cuentas_filtradas=>cuentas_filtradas.saldo<1500).forEach((item, i) => {
        document.write(`${item}`);
      });
    </script>
    <h1>Clase Cuentas - Array Filtrado (Punto 15)</h1>
    Mostrar todas las cuentas y la suma total de todos los saldos.
    <script type="text/javascript">
      var sumasaldos = 0;
      for (var i = 0; i < array_cuentas.length; i++) {
        sumasaldos = sumasaldos + array_cuentas[i].saldo;
        document.write(array_cuentas[i].toString());
      }
      document.write(`<br/>La suma de todos los saldos mayores que $1000 = $${sumasaldos}`);
    </script>
  </body>
</html>
